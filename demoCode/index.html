<!DOCTYPE html>
<html lang="en">
    <title>Calculatrons</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
    .button {
        background-color: #008CBA;
        border: none;
        padding: 16px 32px;
        text-align: center;
        font-size: 16px;
        margin: 4px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
    }

    .button1 {
        background-color: white;
        color: #008BCA;
        border: 1px solid #008CBA;
    }

    .button1:hover {
        background-color: #008CBA;
        color: white;
    }

    body {
        font-family: "Lato", sans-serif;
        text-align:center;
        color: #008CBA
    }
    .mySlides {
        display: none
    }

    h1 {
        color: black;
        font-size: xx-large;
    }
    
    
    .navigation {
        background-color: #500;
        overflow: hidden;
    }
	
    	    
   .navigation a {
        float: left;
        color: white;
        text-align: center;
        padding: 20px 12px;
        text-decoration: none;
        font-size: 15px;
    }
	
	
.navigation a:hover{
background-color: white;
color: black;
}
</style>


    
<head>
  
  <!-- <!michelle added this is the navigation bar> -->
  <div class="navigation">
    <a class="Home" href="#home">Home</a>
    <a href="#Under100Cal">Under 100 Cal</a>
    <a href="#TopRecipes">Top Recipes</a>
  </div>
    
</head>
    
    
 <body>
        
	<style>
     body {background-color: cornsilk}
    </style>
  
  <div>
  
    <input type="text" id = "searchBar" placeholder="Search Here for Recipes...">
    <button type="submit" onclick="Search()"><i class="fa fa-search"></i></button>
    
 </div>
    
	
    
    <div>
    <h1> Featured Recipes</h1>
    <img src = "https://www.inspiredtaste.net/wp-content/uploads/2018/10/Homemade-Vegetable-Soup-Recipe-2-1200.jpg" style="width:128px;height:128px;">
    <img src = "https://www.tasteofhome.com/wp-content/uploads/2018/01/exps174202_LR153742D08_04_3b-696x696.jpg" style = "width:128px;height:128px;">
    <img src = "https://food.fnr.sndimg.com/content/dam/images/food/fullset/2011/2/4/1/RX-FNM_030111-Lighten-Up-012_s4x3.jpg.rend.hgtvcom.616.462.suffix/1382539856907.jpeg" style = "width:128px;height:128px;">
    
    </div>    
	    
	    
    
    
    <button class = "button button1" onclick="myFunction()">Send Request to Server</button>
    <div id="to_replace"></div>
    <div id="results"></div>
    
    
    
    </body>

    <script>
        const myFunction = () => {
            console.log("button pressed, calling function")
            //call function in server.js to recieve response
            fetch("/response").then(res => {
                console.log("res: ", res)
                //convert response to json, make sure it works asychronously
                //to prevent waiting long periods of time 
                const data = res.json()
                console.log("JSON is: ", data)
                return data
            }).then(data => {
                console.log("data: ", data)
                //assign data's response to locate "to_replace"
                document.getElementById("to_replace").innerHTML = data["response"];
            }).catch(err => console.log(err)); 


        }

        const Search = () => {
            console.log("input accepted, displaying results shortly....")
            fetch("/search", {method: "POST"}).then(res => {
                const data = res
                console.log ("data is: ", res)
                return data
            }).then(data =>  {
                console.log("results produced")
                document.getElementById("results").innerHTML = data["array"];
            }).catch(err => console.log(err));

        }
    </script>

</html>

